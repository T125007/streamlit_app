統計計表名：
令和6年度　体力・運動能力調査　体力・運動能力の推移

データセット名または表番号：
年齢別テスト項目別平均値（年次推移）

データ取得日：
2024年1月27日

各列の意味（簡単でOK）：
・年齢：調査対象者の年齢（7歳～19歳）
・性別：調査対象者の性別（男子・女子）
・S40～R5：各年度（昭和40年～令和5年）におけるテスト結果の平均値

単位（人、円、％など）と注意点：

・単位一覧
握力（kg）
上体起こし、20mシャトルラン（回）
長座体前屈、立ち幅とび（cm）
反復横跳び、新体力テストの合計点（点）
持久走、50m走（秒）
ソフトボール投げ、ハンドボール投げ（m）

・データの注意事項
欠損値の扱い：古い年度や一部の項目において、データが存在しない箇所（mとのCSVで「…」となっている箇所）は、プログラム上で除外（欠損値処理）して計算している。そのため、一部のグラフで線がないところや、平均値のグラフで大きな差が生じることがある。

・未使用UI部品

st.success:
目的:データの基本的な情報を「完了・成功」を意味する緑色の枠で囲むことで、読みやすく目立たせるため。
どこで使っているか:アプリ冒頭の「このデータの確認（分析対象や項目）」の説明部分。

st.info:
目的:概要や使い方、分析のヒントを「情報」として青色の枠で強調し、ユーザーにガイドを提供するため。
どこで使っているか:「概要・目的・使用方法」および、各グラフの「傾向を読み取るためのヒント」の説明。

st.divider:
目的:区切り線を引いて情報の整理を行うため。
どこで使っているか:「個別の推移グラフ」と「全年齢平均グラフ」の境界線。

st.error:
目的:データの欠損（…）という「注意すべき問題点」を赤色の枠で警告し、誤解を防ぐため 。
どこで使っているか:アプリ最下部の「欠損値に関する注意点」の説明部分。

データ処理・分析の工夫（プログラムの実装ポイント）
UI部品以外の、正確なデータ分析を行うために工夫した処理内容は以下の通り

header=1:
目的:e-StatのCSVは1行目ではなく2行目に正しい列名があるため、正確にデータを読み込むため。
どこで使っているか:pd.read_csv でファイルを開くとき。

iloc:
目的:選んだ年齢の行から、不要な「年齢」「性別」を除き、年度の数字だけを抜き出すため。
どこで使っているか:グラフ用のデータ（values）を抽出する部分。
iloc[0, 2:]によって0行目（一番上のデータ行）を選び、その中の2列目（左から3番目）から右端までのデータをすべて取り出す。

errors='coerce':
目的:CSV内の「…（欠損値）」をエラーにせず、計算をスキップできる「空欄」に自動変換するため。
どこで使っているか:pd.to_numeric を適用してお掃除する部分。

mean():
目的:表の中にある数字を縦方向に合計し、データの個数で割る「平均」を計算するため。
どこで使っているか:全年齢平均のグラフデータ（yearly_average）を計算する部分。

・ ギャラリー参照

参考にしたアプリのタイトル:
ライフスタイル分析

参考にした点（画面構成、見せ方など）:
st.info()、st.success()、st.error()といった関数の「ステータス・コンテナ」を色ごとに用途を変える。青は一般的な情報・ガイドに適している。緑はポジティブな結果・完了を表現する際に適している。赤は、エラー・重大な問題を表現するときに適している。

自分のアプリにどう反映したか:
青のステータス・コンテナをこのサイトの目的・使用方法の説明、このデータから得られる情報の説明を表記するために使用した。緑のステータス・コンテナをこのサイトのデータの確認に使用した。赤のステータス・コンテナをデータの「…（欠損値）」によって発生するグラフの抜けているところや、平均値の大幅な差の説明をしている。


参考にしたアプリのタイトル:
Health and Fitness Dashboard

参考にした点（画面構成、見せ方など）:
画面上部に重要指標（Metric）を並べる構成

自分のアプリにどう反映したか:
自分のアプリでも、最新年度の平均値をMetricで強調するレイアウトを採用した。

生成AIを使用したかどうか: Yes
・CSVの1行目ではなく2行目に正しい列名があるため、2行目を指定する方法を参考にした。(header=1)

・年度の数字だけを抜き出すやり方を知りたくて、不要な「年齢」「性別」を除くための関数を参考にした。（iloc）

・errors='coerce':年代ごとの平均値を計算を行おうと思ったが、「…」によってエラーが発生してしまった。このエラーを解決するために生成AIしてerrors='coerce'を使用することによって解決すると分かった。具体的には、これが「掃除」の役割をしていて、「もし数字じゃないもの（… ）があったら、無理やり空っぽ（NaN）にして無視しろ」という指示してくれる。これにより「…」空っぽ扱いされ無視されるのでエラーなく平均値の計算ができる。

・平均値の計算をする関数が知りたくて、表の中にある数字を縦方向に計算する方法を参考した（mean()）
